# ==========================================================
# UNIFIED ASTRO LOGGER CONFIGURATION
# ==========================================================
#
# --- General Settings ---
# Logging level for the script's console output. Options: DEBUG, INFO, WARNING, ERROR
# ==========================================================
# UNIFIED ASTRO LOGGER CONFIGURATION (v2)
# ==========================================================

# --- General Settings ---
LOGGING_LEVEL=INFO

# --- Location Settings (for Astronomical Date & Weather) ---
LATITUDE=
LONGITUDE=

# --- Directory and File Paths ---
# Use the placeholder {astro_date} for directories that change each night.
# The script will replace {astro_date} with the calculated YYYY-MM-DD.
SESSION_LOG_DIR="D:/Astrophotography/{astro_date}/Logs"
IMAGE_BASE_DIR="D:/Astrophotography/{astro_date}"

# --- Static Paths (these do not change session to session) ---
FOCUS_LOG_FILE="D:/Astrophotography/Logs/focus_log.csv"
BOLTWOOD_FILE_PATH="S:/weather/weatherdata.txt"
MASTER_DARK_DIR="D:/Astrophotography/Darks"
MASTER_FLAT_DIR="D:/Astrophotography/Flats"
CCD_TEMP_TOLERANCE=1.0
ASTAP_CLI_PATH="C:/Program Files/astap/astap_cli.exe"

# --- Hardware, API, and Timings ---
NINA_LOG_DIR="C:/Users/John/AppData/Local/NINA/AutoFocus"
PEGASUS_API_URL="http://localhost:32000/Driver/PPBAdvance/Report"
PEGASUS_PPBA_API_URL="http://localhost:32000/Driver/PPBAdvance/Dew/Hub/Status"
PEGASUS_DEVICEMANAGER_URL="http://localhost:32000/Server/DeviceManager/Connected"
OPENWEATHERMAP_API_KEY="08cde9baade3f97e539486352531f302"
PERIODIC_LOG_INTERVAL_SEC=300
FILE_WRITE_DELAY_SEC=5

# --- Allow NINA to shutdonw the script ---
SHUTDOWN_FLAG_FILE="C:\Users\John\Unified_Astro_Logger\Shutdown_Request.txt"

# Camera-specific ROI offset configuration
# Based on empirical measurements using dark current pattern correlation

# ZWO ASI183MM Pro camera configuration
CAMERA_ZWO_ASI183MM_PRO_FULL_FRAME_WIDTH=5496
CAMERA_ZWO_ASI183MM_PRO_FULL_FRAME_HEIGHT=3672

# --- ASTAP Plate Solver Settings (align with camera ROI definitions above) ---
# Map FITS image heights (NAXIS2) to ASTAP -z binning values for this camera.
# Keep the entries in sync with the ROI dimensions configured above (full frame: 3672, 50%: 1836, 25%: 918).
ASTAP_BINNING_MAP="3672=2,1836=1,918=1"
# Optional default binning when no match is found; set blank to omit -z entirely.
ASTAP_BINNING_DEFAULT=0
# Fallback FOV (degrees) when FITS keywords YPIXSZ/FOCALLEN lack [um]/[mm] units in comments.
ASTAP_FOV_FALLBACK=0

# ROI offsets for ZWO ASI183MM Pro
# Format: CAMERA_{CAMERA_NAME}_ROI_{WIDTH}x{HEIGHT}_{X|Y}_OFFSET
# These are the actual measured top-left corner positions in the full frame

# 50% ROI (2744x1836) - measured via correlation
CAMERA_ZWO_ASI183MM_PRO_ROI_2744x1836_X_OFFSET=1372
CAMERA_ZWO_ASI183MM_PRO_ROI_2744x1836_Y_OFFSET=918

# 25% ROI (1368x918) - measured via correlation
CAMERA_ZWO_ASI183MM_PRO_ROI_1368x918_X_OFFSET=2060
CAMERA_ZWO_ASI183MM_PRO_ROI_1368x918_Y_OFFSET=1376